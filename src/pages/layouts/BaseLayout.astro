---
import Footer from "../../components/Footer.astro";
import Header from "../../components/Header.astro";
import "../../styles/global.css";

interface Props {
  title?: string;
}

const { title = "Min's Reading Journal" } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body
    class="min-h-screen min-w-screen flex flex-col items-center overscroll-y-none bg-slate-50"
  >
    <div class="min-w-full sm:min-w-2xl lg:min-w-3xl mx-8">
      <Header />
      <slot />
      <Footer />
    </div>
  </body>
</html>

<script>
  // When the user scrolls down 50px from the top of the document, resize the header's font size
  window.onscroll = function () {
    scrollFunction();
  };

  function scrollFunction() {
    if (
      document.body.scrollTop > 50 ||
      document.documentElement.scrollTop > 50
    ) {
      (document.querySelector("header") as HTMLElement).style.minHeight =
        "2.5rem";
    } else {
      (document.querySelector("header") as HTMLElement).style.minHeight =
        "8rem";
    }
  }
</script>
